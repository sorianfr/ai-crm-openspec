{% extends "base.html" %}

{% block title %}Contacts - Python CRM{% endblock %}

{% block content %}
<h1>Contacts</h1>
<p><a href="/contacts/new">New contact</a></p>
<form method="get"
      action="/contacts"
      hx-get="/contacts"
      hx-target="#contacts-results"
      hx-swap="innerHTML">
  <p>
    <label for="q">Search</label>
    <input type="text" id="q" name="q" value="{{ q }}" placeholder="Name, email, or company" />
  </p>
  <p>
    <label>
      <input type="checkbox" name="has_email" value="true" {% if has_email %}checked{% endif %} />
      Has email
    </label>
    <label>
      <input type="checkbox" name="has_phone" value="true" {% if has_phone %}checked{% endif %} />
      Has phone
    </label>
  </p>
  <p>
    <button type="submit">Apply filters</button>
    <a href="/contacts">Clear</a>
  </p>
</form>

<div id="contacts-results">
  {% include "contacts/_contacts_table.html" %}
</div>
{% endblock %}
